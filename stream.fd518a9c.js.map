{"version":3,"sources":["../src/stream.ts"],"names":[],"mappings":";AAqCA,aArCA,SAAS,EAAe,GAGJ,IAFZ,IAAA,EAAM,GAEM,EAAA,EAAA,EAAA,OAAO,KAAK,GAAZ,EAAA,EAAA,OAAA,IAAqB,CAA5B,IAAA,EAAG,EAAA,GACR,EAAO,IACT,EAAI,KAAQ,mBAAmB,GAAI,IAAI,mBAAmB,EAAO,KAI9D,OAAA,EAAI,KAAK,KAGlB,SAAS,IAED,IAEA,EAFM,OAAO,SAAS,KAAK,MAAM,KAAK,GAE1B,MAAM,KAGd,OAFM,EAAM,MAAM,EAAG,EAAM,OAAS,GAAG,KAAK,KAErC,gBAGnB,SAAS,EAAkB,EAAkB,EAAsB,EAAgB,GAC3E,IAAA,EAAU,IACV,EAAmB,SAAS,eAAe,gBAE3C,EAAS,EAAe,CAC5B,KAAM,EACN,aAAY,EACZ,OAAM,EACN,OAAM,IAGF,EAAM,EAAY,EAAO,IAAI,EAAW,EAC9C,EAAiB,MAAQ,EAG3B,SAAS,iBAAiB,mBAAoB,WACtC,IAAA,EAAgB,SAAS,eAAe,qBACxC,EAAoB,SAAS,eAAe,yBAC5C,EAAgB,SAAS,kBAAkB,UAC3C,EAAgB,SAAS,kBAAkB,UAE3C,EAAmB,SAAS,eAAe,gBAC3C,EAAa,SAAS,eAAe,4BAEvC,EAAW,EAAc,MACzB,EAAe,EAAkB,MACjC,EAAS,GACT,EAAS,GAEb,EAAkB,EAAU,EAAc,EAAQ,GAElD,EAAc,QAAU,WAEtB,EADA,EAAW,EAAc,MACG,EAAc,EAAQ,IAGpD,EAAkB,QAAU,WAC1B,EAAe,EAAkB,MACjC,EAAkB,EAAU,EAAc,EAAQ,IAGpD,EAAc,QAAQ,SAAC,GACrB,EAAO,QAAU,WACX,EAAO,UACT,EAAS,EAAO,MAChB,EAAkB,EAAU,EAAc,EAAQ,OAKxD,EAAc,QAAQ,SAAC,GACrB,EAAO,QAAU,WACX,EAAO,UACT,EAAS,EAAO,MAChB,EAAkB,EAAU,EAAc,EAAQ,OAKxD,EAAW,QAAU,WACnB,UAAU,UAAU,UAAU,EAAiB","file":"stream.fd518a9c.js","sourceRoot":"..\\templates","sourcesContent":["function getQueryString(params: Record<string, string>) {\n  const ret = [];\n\n  for (const key of Object.keys(params)) {\n    if (params[key]) {\n      ret.push(`${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`);\n    }\n  }\n\n  return ret.join('&');\n}\n\nfunction getBaseUrl(): string {\n  // Remove query parameters\n  const url = window.location.href.split('?')[0];\n  // Move up one\n  const paths = url.split('/');\n  const baseURL = paths.slice(0, paths.length - 1).join('/');\n\n  return `${baseURL}/overlay.html`;\n}\n\nfunction updateOverlayLink(userName: string, sessionStart: string, hAlign: string, vAlign: string) {\n  const baseURL = getBaseUrl();\n  const overlayLinkInput = document.getElementById('overlay-link') as HTMLInputElement;\n\n  const params = getQueryString({\n    user: userName,\n    sessionStart,\n    hAlign,\n    vAlign,\n  });\n\n  const url = params ? `${baseURL}?${params}` : baseURL;\n  overlayLinkInput.value = url;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const userNameInput = document.getElementById('overlay-user-name') as HTMLInputElement;\n  const sessionStartInput = document.getElementById('overlay-session-start') as HTMLInputElement;\n  const hAlignButtons = document.getElementsByName('halign') as NodeListOf<HTMLInputElement>;\n  const vAlignButtons = document.getElementsByName('valign') as NodeListOf<HTMLInputElement>;\n\n  const overlayLinkInput = document.getElementById('overlay-link') as HTMLInputElement;\n  const copyButton = document.getElementById('overlay-link-copy-button') as HTMLButtonElement;\n\n  let userName = userNameInput.value;\n  let sessionStart = sessionStartInput.value;\n  let hAlign = '';\n  let vAlign = '';\n\n  updateOverlayLink(userName, sessionStart, hAlign, vAlign);\n\n  userNameInput.oninput = () => {\n    userName = userNameInput.value;\n    updateOverlayLink(userName, sessionStart, hAlign, vAlign);\n  };\n\n  sessionStartInput.oninput = () => {\n    sessionStart = sessionStartInput.value;\n    updateOverlayLink(userName, sessionStart, hAlign, vAlign);\n  };\n\n  hAlignButtons.forEach((button) => {\n    button.oninput = () => {\n      if (button.checked) {\n        hAlign = button.value;\n        updateOverlayLink(userName, sessionStart, hAlign, vAlign);\n      }\n    };\n  });\n\n  vAlignButtons.forEach((button) => {\n    button.oninput = () => {\n      if (button.checked) {\n        vAlign = button.value;\n        updateOverlayLink(userName, sessionStart, hAlign, vAlign);\n      }\n    };\n  });\n\n  copyButton.onclick = () => {\n    navigator.clipboard.writeText(overlayLinkInput.value);\n  };\n});\n"]}